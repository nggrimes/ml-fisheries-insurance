---
title: Finding suitable weather indices for novel fisheries index insurance using machine learning
author: 
  - name: Nathaniel Grimes
    email: nggrimes@ucsb.edu
    affiliations:
      - id: ucsb
        name: University of California, Santa Barbara
        department: Bren school of Environmental Science and Management
        address: Street Address
        city: Santa Barbara
        state: California
    attributes:
      corresponding: true
abstract: |
 Index insurance is a financial tool gaining traction for application in fisheries. It will cover fishers losses under extreme weather events that impact fishery productivity. This is the first assessment to determine the feasibility of such programs and whether suitable indices exist.
keywords:
   - Index Insurance
   - Fisheries
   - Machine Learning
date: last-modified
bibliography: lib_5_24.bib
csl: fish-and-fisheries.csl
toc: true
number-sections: true
format:
    pdf:
      keep-tex: true
      include-in-header:
        text: |
         \addtokomafont{disposition}{\rmfamily}
    
execute:
  echo: false
  message: false
  warning: false
---

## Introduction

Predicting fishery output from weather variables is notoriously difficult. It is widely established that climate and weather affect fishing populations [@Lehodey2006], but most stock assessment models use little to no year to year environmental data [@Privitera2020]. Variations in environmental conditions are now the leading cause of fishery closures and disaster relief payouts in the United States [@Bellquist2021]. Disaster declarations are becoming more frequent straining a slow, inequitable system [@Holland2020; @Jardine2020]. Calls for new financial tools to alleviate fisher income shocks have grown [@Mumford2009;@Sethi2010].

Index insurance has risen as a prime candidate tool to protect fishing communities during disasters [@Watson2023]. Index insurance is a financial product that pays out when an independently verified index, such as rainfall or temperature, falls below a predetermined threshold. The index is chosen to be highly correlated with the asset being insured. Index insurance has been successful in agriculture, but has not been widely adopted in fisheries. The main reason is that suitable indices for fisheries are not well understood. This study aims to identify suitable indices for fisheries index insurance using machine learning.

Effective index insurance policies require clear connections between the index and policyholder assets. Otherwise basis risk is introduced. Basis risk is the probability that policyholders experience a harmful shock to their income, but the index does not trigger. Basis risk lowers demand for index insurance and remains a significant roadblock in setting up new programs [@Clarke2016; @binswanger2012].

Three strategies are often used to mitigate basis risk and stimulate uptake. First, government subsidies directly mask the ineffectiveness of some triggers. The United States Risk Management Agency's Rainfall index insurance for pasture, rangeland, and forage (RI-PRF) allows farmers to select grids of forage for cattle ranching and protect against low rainfall in 2 month intervals (e.g. Jan-Feb). Subsidies encourage farmers to buy products through reducing the premium paid by up to 60%. In Nebraska and Kansas from 2013 to 2017, the program had negative returns overall, but farmers had net positive income strictly due to the subsidies [@Goodrich2019]. Basis risk in Nebraska and Kansas introduced a 26% probability of insurance not paying out when damages were suffered [@Yu2019]. The same program in California found basis risk reaching up to 46%, which could be driven by weak correlations ($r \in[0.071,0.417]$) between indices and forage production [@Keller2022].

Contract design can mitigate basis risk through providing more options so that individuals can better select policies that protect them. Policyholders choose lower trigger levels when correlations between between index and asset are low [@Lichtenberg2022]. Lower trigger levels correspond to protection against more catastrophic shocks. Increased contract flexibility reduces basis risk by only small amounts. @Yu2019 found that more flexible contracts could account for only 5-9% of basis risk. Farms in Kansas closer to weather stations had better predictive impacts of rain on yield [@Yu2019]. The best way to reduce basis risk is to define accurate correlations of index to loss [@Jensen2019; @Carter2015].

## Insurance Model

Utility measures offer the most insightful evaluation of index insurance policies [@Kenduyio2022]. It captures value added for policyholders, not just measures of payout frequency as other measures of basis risk. We will use a isoelastic utility function from the constant relative risk aversion class of functions as it  allows use of consistent risk aversion parameters regardless of earned income across various fisheries. Total utility for a fishery's catch history is the sum of yearly utility from fishing revenue. 

$$
\begin{aligned}
U_{b}&=\sum_{t=1981}^{T=2021}\frac{\pi_t^{(1-\rho)}}{(1-\rho)} &\text{No Insurance}\\

U_{i}&=\sum_{t=1981}^{T=2021}\frac{(\pi_t+I(w)-P(w))^{(1-\rho)}}{(1-\rho)} &\text{Insurance}\\
U_{r}&=\frac{U_i-U_b}{U_b}\cdot100 &\text{Percent Change in Utility}\\
\end{aligned}
$$

We will compare the percent change in fisher utility with insurance ($U_i$) versus without insurance ($U_{b}$) for each prediction method.

The insurance contract is specified by calculating the payout function ($I(w)$) and the premium ($\mathbb{E}[I(w)]m$) where $m$ is the premium loading factor. We will test two different timings of contracts built on three different prediction models and three levels of coverage. The first timing will be a pre-season contract where the payout occurs before the fishing season based on a measure of the weather index relative to the prior seasons fishing revenue. The second timing will be a post-season contract where the payout occurs after the fishing season based on the weather index relative to the current season fishing revenue. The three prediction models ($k\in\{\text{LR,LA,RF}\}$ are a linear regression ($\text{LR}$), a LASSO regression ($\text{LA}$), and a random forest ($\text{RF}$). The three levels of coverage ($l$) are 50%, 75%, and 100% of the seasons fishing revenue.

$$
I=\max(0,(\hat\pi_t^k(w) - \bar{\pi}_{x})\cdot l)
$${#eq-payout}

Where $k$ is the prediction model, $l$ is the level of coverage, $\hat\pi_t^k(w)$ is the predicted fishing revenue from $w$ weather variables, and $\bar{\pi}_{x}$ is the fishing revenue either the current year or last year ($x\in\{t,t_{t-1}\}$). The premium is calculated as the expected value of the payout function times the premium loading factor ($m$).

$$
P=\mathbb{E}[I(w)]m
$$ {#eq-premium}


We examine improvements between prediction models with an additional metric. While utility is a useful comparison tool, it is not a clearly interpretable measure. We also calculate the highest premium loading factor that makes fishers indifferent between having insurance and not having insurance. This enables insurance companies to better predict feasible prices introducing a supply side analysis missing from current fisheries index insurance studies.

## Data

This study attempts to cover breadth, not depth in possible indices. Each fishery has unique ecological characteristics that interact with environmental variables in different and non-linear ways. By studying a wide collection of fisheries and environmental variables we can uncover the potential feasibility of index insurance for fisheries. Landings and revenue data comes from the West Coast Fish data package. It is a reconstruction of California Fish and Wildlife Department catch data combined with PacFin receipts for Washington and Oregon. The last three years of data are updated from the CDFW Marine Fisheries Data Explorer (MFDE). Names are matched to each species within the West Coast Fish data package.

We select California fisheries with a minimum of 30 years of consecutive catch records at both the state and port-complex level. Unclassified catch records are dropped i.e. "Other Sharks" and similar categories. Fisheries with an average revenue greater than $100,000 at the state and port-complex level are analyzed. Twenty six fisheries at the state level and 73 fisheries at the port complex level meet these criteria.

We spatially refine catch histories using the California CDFW fishing blocks records from the MFDE Data Explorer. Summarized catch histories of all landed fish within each block provide an average representation of effort for a given fishery. Spatial catch history is measured at both the state and port-complex level. The spatial location refines the location of environmental variables. Local weather is are more likely to affect fishery productivity and catch than regional measures. 

Sea surface temperature and anomaly data comes from the NOAA DHW data set that provides 5-km resolution of monthly temperature from 1985 to 2023. The 5-km grids are averaged within the nearest California fishing block to provide a time series of temperature for each fishery.

Upwelling data

## Methods
